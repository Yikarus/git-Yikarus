# C++基本规则

## 隐式转换

- 基本数据类型的隐式转换规则：以取值范围作为转换基础，保证精度不丢失，小范围的类型可以向大范围的隐式转换，如char=>int，int=>long。
- 自定义对象，子类可以隐式转换为父类，重载()操作符且没有声明explicit构造函数的可以由相应类型隐式转换。

## 强制转换

​	隐式转换旨在自动由小范围的类型按需转换为大范围的类型，但是要是需要向小范围转换，需要强制转换，也要承担精度缺失甚至面目全非的风险。

## 运算优先级

| 优先级 | 运算符                                       | 结合规则              |
| ------ | -------------------------------------------- | --------------------- |
| 1      | ()  []  ->  .  ::  ++  --                    | 从左到右，如i++,a->b  |
| 2      | !  ~  ++  --  -  +  *  &  (type)  sizeof     | 从右到左，如++i,&a,+1 |
| 3      | ->*  .*(成员指针)                            | 从左到右，ptr->*a=24  |
| 4      | *  /  %                                      | 从左到右              |
| 5      | +  -                                         | 从左到右              |
| 6      | <<  >>                                       | 从左到右              |
| 7      | <  <=  >  >=                                 | 从左到右              |
| 8      | ==  !=                                       | 从左到右              |
| 9      | &                                            | 从左到右              |
| 10     | ^                                            | 从左到右              |
| 11     | \|                                           | 从左到右              |
| 12     | &&                                           | 从左到右              |
| 13     | \|\|                                         | 从左到右              |
| 14     | ? :(三目)                                    | 从左到右              |
| 15     | =  +=  -=  *=  /=  %=  &=  ^=  \|=  <<=  >>= | 从右到左              |
| 16     | ,                                            | 从左到右              |

上述同级运算符，按结合顺序作用。

## 默认初始化

​	内置类型的变量，在任何**函数体之外**的变量，默认初始化为0，**函数体内的变量**，不被初始化。类自己的默认初始化，且看类自己的默认构造函数。

